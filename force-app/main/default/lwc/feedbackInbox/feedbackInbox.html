<template>
    <div class="feedback-inbox">
        <div class="inbox-card">
            
            <!-- Header -->
            <div class="card-header">
                <div class="header-content">
                    <lightning-icon icon-name="utility:email" size="small" class="header-icon"></lightning-icon>
                    <h3 class="header-title">Feedback Inbox</h3>
                </div>
                <div class="response-count">
                    <span class="count-badge">{responseCount}</span>
                </div>
            </div>

            <!-- Responses List -->
            <div class="responses-container">
                <template if:true={hasResponses}>
                    <template for:each={responses} for:item="response">
                        <div key={response.id} class="response-item">
                            <div class="response-header">
                                <div class="response-meta">
                                    <lightning-icon icon-name="utility:user" size="x-small" class="user-icon"></lightning-icon>
                                    <span class="created-by">{response.createdBy}</span>
                                </div>
                                <div class="response-date">{response.formattedDate}</div>
                            </div>
                            <div class="response-content">
                                <p class="response-text">{response.message}</p>
                            </div>
                        </div>
                    </template>
                </template>

                <!-- No Responses State -->
                <template if:false={hasResponses}>
                    <div class="empty-state">
                        <lightning-icon icon-name="utility:comments" size="large" class="empty-icon"></lightning-icon>
                        <h4 class="empty-title">No Responses Yet</h4>
                        <p class="empty-description">Responses to this feedback will appear here</p>
                    </div>
                </template>

                <!-- Error State -->
                <template if:true={error}>
                    <div class="error-state">
                        <lightning-icon icon-name="utility:error" size="medium" class="error-icon"></lightning-icon>
                        <p class="error-message">Error loading responses: {error.body.message}</p>
                    </div>
                </template>
            </div>

        </div>
    </div>
</template> 